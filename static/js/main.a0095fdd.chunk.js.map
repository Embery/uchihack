{"version":3,"sources":["utils/Connection.js","views/HomeScreen.js","views/Login.js","views/QuestionPage.js","views/QuestionsToolbar.js","views/QuestionsScreen.js","views/Registration.js","stores/SelectedPage.js","stores/Questions.js","stores/User.js","utils/Tree.js","stores/Categories.js","stores/Registry.js","views/Header.js","views/App.js","reportWebVitals.js","index.js"],"names":["Connection","self","socket","init","getSession","document","cookie","split","find","elem","startsWith","setSession","session","length","cookie_date","Date","setTime","getTime","toGMTString","request","config","responseConfig","type","resultConfig","Object","assign","httpRequest","timeout","wsRequest","configCopy","url","fetch","method","body","JSON","stringify","message","data","needResponse","responseMessage","wsSend","waitEvent","response","Error","emit","on","callback","Promise","resolve","reject","cb","setTimeout","off","HomeScreen","props","Login","registry","useContext","RegistryCtx","user","getStore","page","onFinish","values","a","actions","login","username","password","setSelected","ReactDOM","render","getElementById","description","closable","name","className","Item","rules","required","prefix","UserOutlined","placeholder","LockOutlined","htmlType","TextArea","Input","QuestionPage","record","userInfo","questions","isMine","user_id","Form","useForm","form","categoriesStore","isLoaded","isLoading","categories","getCategories","setFieldsValue","copy","created","moment","updated","removeEmptyDates","formSuccess","createQuestion","result","disabled","style","padding","labelCol","span","wrapperCol","label","user_name","user_surname","width","dropdownStyle","maxHeight","overflow","treeData","treeDefaultExpandAll","marginBottom","display","lineHeight","textAlign","rows","QuestionsToolbar","observer","store","keys","forEach","key","addFilter","removeFilter","similar","getQuestions","gutter","valuePropName","margin","onClick","resetFields","submit","QuestionsScreen","questionsStore","total","useState","setPage","uid","columns","title","dataIndex","value","toLocaleString","dataSource","size","rowKey","loading","onRow","event","pagination","position","defaultPageSize","showSizeChanger","onChange","footer","Registration","connection","confirm","params","json","scrollToFirstError","tooltip","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","_","offset","SelectedPage","items","home","question","register","action","selected","setSelectedPageItem","selectedPageItem","extendObservable","Questions","filters","currentPage","pageSize","property","setTotal","setMessages","setLoading","setIsLoaded","exact","requestConfig","limit","responseObject","success","messages","User","nickname","isLoggedIn","setUserData","setAvatar","avatar","setUserId","id","setNickname","info","setIsLoggedIn","error_message","session_id","logout","treefiy","dataArray","parentId","byIdMap","parent","children","push","Categories","setCategories","React","createContext","SubMenu","Menu","Header","pageStore","menuItems","src","alt","maxWidth","profile","elems","e","selectedKeys","mode","top","initialized","storeName","stores","selectedPage","Registry","App","selectedPageStore","Provider","Consumer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log"],"mappings":"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","file":"static/js/main.a0095fdd.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\n\nfunction Connection(){\n    const self = {\n        socket: null,\n        init() {\n            // TODO: вставить real url или переправить с сокетио на нативщину или на что-то еще\n            //self.socket = io('http://localhost:3001');\n            return self;\n        },\n        /**\n         * Если я допустила любой инжект чужого js-кода - у меня уже все плохо,\n         * поэтому я не буду паранойить по поводу того, что сессия в ЛС хранится\n         */\n        getSession(){\n            const cookies = document.cookie.split(';');\n            return cookies.find(elem=>elem.startsWith(\"session_id\"))\n        },\n        setSession(session){\n            if(session.length){\n                document.cookie = \"session_id=\" + session;\n            } else {\n                const cookie_date = new Date ( );  // Текущая дата и время\n                cookie_date.setTime ( cookie_date.getTime() - 1 );\n                document.cookie = \"session_id\" + \"=; expires=\" + cookie_date.toGMTString();\n            }\n        },\n        /**\n         * @param {object} config\n         * @param {object} responseConfig\n         * @param {boolean} responseConfig.needResponse\n         * @param {string} responseConfig.responseMessage\n         * @param {number} responseConfig.timeout\n         */\n        async request(config, responseConfig = {}){\n            const type = config.type || \"http\";\n            const resultConfig = Object.assign({}, config, {session: self.getSession()});\n            if(type === \"http\"){\n                return self.httpRequest(resultConfig, responseConfig.timeout);\n            } else {\n                return self.wsRequest(resultConfig, responseConfig);\n            }\n        },\n        async httpRequest(config, timeout){\n            const configCopy = Object.assign({}, config);\n            delete configCopy.url;\n            return fetch(config.url, {method:'POST', body:JSON.stringify(configCopy||'')});\n        },\n        async wsRequest(config, responseConfig){\n            const {message, data} = config;\n            const {\n                needResponse, \n                responseMessage, \n                timeout\n            } = responseConfig;\n            self.wsSend(message, data);\n            if(needResponse){\n                const response = await this.waitEvent(responseMessage, timeout);\n                return response;\n            }\n            return true;\n        },\n        wsSend(message, data){\n            if(!self.socket) throw new Error('Request sent before initialization finished!')\n            self.socket.emit(message, data);\n        },\n        on(message, callback){\n            self.socket.on(message, callback);\n        },\n        async waitEvent(message, timeout = 15000) {\n            return new Promise((resolve, reject) => {\n                const cb = (data) => {\n                    resolve(data);\n                }\n                self.socket.on(message, cb);\n                setTimeout(() => {\n                    self.socket.off(message, cb);\n                    reject(\"Time limit exceeded\");\n                }, timeout);\n            })\n        }\n    };\n    return self;\n}\n\nexport default Connection;","const HomeScreen = (props) => {\n    return (\n        <article>\n            <h2>\n                Привет, друг!\n            </h2>\n            <p>\n                Ты оказался на платформе, где можешь помочь другим или сам получить помощь по каким-либо вопросам по предметам школьной программы.\n            </p>\n            <p>\n                Чем большему количеству людей ты поможешь, тем больше у тебя будет баллов и тем выше ты будешь в общем рейтинге\n            </p>\n            <p>\n                С другой стороны, ты можешь помочь другим почувствовать свою важность и нужность, помечая самый крутой ответ и распределяя баллы за вопрос (подробнее будет в путеводителе)\n            </p>\n            <p>\n                Мы надеемся, ты получишь удовольствие от путешествия по системе МВО #25\n            </p>\n            <p>\n                Команда МВО\n            </p>\n        </article>\n    )\n}\n\nexport default HomeScreen;","import { Form, Input, Button, Alert} from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Login = () => {\n    const registry = useContext(RegistryCtx);\n    const user = registry.getStore('user');\n    const page = registry.getStore('selectedPage')\n    const onFinish = async (values) => {\n        try{\n            await user.actions.login(values.username, values.password);\n            page.actions.setSelected('questions');\n            ReactDOM.render(\n                null, \n                document.getElementById('notification')\n            );\n        } \n        catch(e) {\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description={e.message}\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n\n    return (\n        <Form\n            name=\"normal_login\"\n            className=\"login-form\"\n            onFinish={onFinish}\n        >\n            <Form.Item\n                name=\"username\"\n                rules={[{ required: true, message: 'Введите логин!' }]}\n            >\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Логин\" />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Введите пароль!' }]}\n            >\n                <Input\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                type=\"password\"\n                placeholder=\"Пароль\"\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                    Войти\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Login;","import { DatePicker, Form, Input, TreeSelect, Button} from 'antd';\nimport moment from 'moment';\nimport React, {useContext} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst { TextArea } = Input;\n\nconst removeEmptyDates = (record) => {\n    const copy = Object.assign({}, record);\n    if(!copy.created) delete copy.created;\n    else copy.created = moment(copy.created);\n    if(!copy.updated) delete copy.updated;\n    else copy.updated = moment(copy.updated);\n    return copy;\n}\nconst QuestionPage = (props) => {\n    const {record} = props;\n    const registry = useContext(RegistryCtx);\n    const userInfo = registry.getStore('user');\n    const questions = registry.getStore('questions');\n\n    const isMine = !record || (record.user_id === userInfo.user_id);\n    const [form] = Form.useForm();\n\n    const categoriesStore = registry.getStore('categories');\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n\n    form.setFieldsValue(removeEmptyDates(record));\n\n    const formSuccess = async (values) => {\n        const copy = Object.assign({}, values);\n        copy.user_id = userInfo.user_id;\n        const result = await questions.actions.createQuestion(copy);\n        form.setFieldsValue(result[0])\n    }\n    return (\n        <fieldset disabled={!isMine}>\n            <Form \n                form={form} \n                name=\"questions\" \n                style={{padding: '1em'}}\n                onFinish={values => formSuccess(values)}\n                labelCol={{\n                    span: 2,\n                }}\n                wrapperCol={{\n                    span: 18,\n                }}\n            >\n                {(() => {\n                    if(record) return (\n                    <Form.Item label=\"Автор\">\n                        <span>\n                            {`${record.user_name || ''} ${record.user_surname || ''}`}\n                        </span>\n                    </Form.Item>)\n                })()}\n                <Form.Item name=\"name\" label=\"Название\" rules={[{ required: true }]}>\n                    <Input/>\n                </Form.Item>\n                <Form.Item name=\"category_id\" label=\"Тема\">\n                    <TreeSelect\n                        style={{ width: '100%' }}\n                        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                        treeData={categories}\n                        placeholder=\"Тема\"\n                        treeDefaultExpandAll\n                        disabled={!isMine}\n                    />\n                </Form.Item>\n                <Form.Item label=\"Создан\" style={{ marginBottom: 0 }}>\n                    <Form.Item\n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"created\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                    <span\n                        style={{ display: 'inline-block', width: '70px', lineHeight: '32px', textAlign: 'center' }}\n                    >\n                        Изменен: \n                    </span>\n                    <Form.Item \n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"updated\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item name=\"body\" label=\"Вопрос\" rules={[{ required: true }]}>\n                    <TextArea rows={10}/>\n                </Form.Item>\n                {\n                    (()=>{\n                        if(!record) return (\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"question-form-button\">\n                                Задать вопрос\n                            </Button>\n                        )\n                        if(isMine) return (\n                            <div>\n                                <Button type=\"primary\" className=\"question-form-button\">\n                                    Пометить отвеченным\n                                </Button>\n                                <Button className=\"question-form-button\">\n                                    Закрыть вопрос\n                                </Button>\n                            </div>\n                        )\n                    })()\n                }\n            </Form>\n        </fieldset>\n    );\n}\n\nexport default QuestionPage;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Form, Row, Col, Input, Button, DatePicker, TreeSelect, Checkbox } from 'antd';\n\nconst QuestionsToolbar = observer((props) => {\n    const {store, categoriesStore} = props;\n    const [form] = Form.useForm();\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n    const formSuccess = (values, store) => {\n        Object.keys(values).forEach(key=>{\n            if(key!==\"similar\") {\n                if(values[key]) store.addFilter(key, values[key]);\n                else store.removeFilter(key);\n            }\n        });\n        if(!values.similar){\n            store.actions.getQuestions();\n        }\n        else {\n            //TODO - хранить страницу и pageSize в сторе чтобы вот этой дичи не было\n            store.actions.getQuestions(1, 25, false);\n        }\n    }\n    return (\n        <Form\n        form={form}\n        name=\"filters\"\n        className=\"ant-advanced-search-form\"\n        onFinish={values => formSuccess(values, store)}\n        >\n        <Row gutter={24}>\n            <Col span={2}>\n                <Form.Item name=\"id\" label=\"Номер\">\n                    <Input placeholder=\"№\" />\n                </Form.Item>\n            </Col>\n            <Col span={3}>\n                <Form.Item name=\"name\" label=\"Вопрос\">\n                    <Input placeholder=\"Вопрос\" />\n                </Form.Item>\n            </Col>\n            <Col span={2}>\n                <Form.Item name=\"similar\" valuePropName=\"checked\">\n                    <Checkbox >Похожие</Checkbox>\n                </Form.Item>\n            </Col>\n            <Col span={3}>\n                <Form.Item name=\"created_gt\" label=\"Создан\">\n                    <DatePicker placeholder=\"Начало\" />\n                </Form.Item>\n            </Col>\n            <Col span={2}>\n                <Form.Item name=\"created_lt\">\n                    <DatePicker placeholder=\"Конец\" />\n                </Form.Item>\n            </Col>\n            <Col span={3}>\n                <Form.Item name=\"updated_gt\" label=\"Обновлен\">\n                    <DatePicker placeholder=\"Начало\" />\n                </Form.Item>\n            </Col>\n            <Col span={2}>\n                <Form.Item name=\"updated_lt\">\n                    <DatePicker placeholder=\"Конец\" />\n                </Form.Item>\n            </Col>\n            <Col span={3}>\n                <Form.Item name=\"category_id\" label=\"Тема\">\n                    <TreeSelect\n                        style={{ width: '100%' }}\n                        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                        treeData={categories}\n                        placeholder=\"Тема\"\n                        treeDefaultExpandAll\n                    />\n                </Form.Item>\n            </Col>\n            <Col span={4} style={{textAlign:'right'}}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Искать\n                </Button>\n                <Button\n                    style={{ margin: '0 8px' }}\n                    onClick={() => {\n                    form.resetFields();\n                    form.submit();\n                    }}\n                >\n                    Очистить фильтры\n                </Button>\n            </Col>\n        </Row>\n        </Form>\n    );\n});\nexport default QuestionsToolbar;","import { Table, Button} from 'antd';\nimport QuestionsToolbar from './QuestionsToolbar';\nimport { observer } from \"mobx-react\";\nimport React, {useContext, useState} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst QuestionsScreen = observer(props => {\n    const registry = useContext(RegistryCtx);\n    const questionsStore = registry.getStore('questions');\n    const categories = registry.getStore('categories');\n    const {questions, total, isLoading, isLoaded} = questionsStore;\n    const [page, setPage] = useState(1);\n    const uid = registry.getStore('user').user_id;\n    const columns = [\n        {\n            title: '#',\n            dataIndex: 'id',\n        },\n        {\n            title: 'Название',\n            dataIndex: 'name',\n        },\n        {\n            title: 'Тема',\n            dataIndex: 'category_name'\n        },\n        {\n            title: 'Создан',\n            dataIndex: 'created',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Изменен',\n            dataIndex: 'updated',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Баллы',\n            dataIndex: 'points'\n        },\n        {\n            title: \"Автор\",\n            dataIndex: \"user_name\",\n            render: (value, record) => {\n                return (value || '') + ' ' + (record.user_surname || '');\n            }\n        }\n    ];\n    const {getQuestions} = questionsStore.actions;\n    if(!isLoaded && !isLoading) getQuestions();\n    return (\n        <Table \n            dataSource={questions} \n            columns={columns}\n            size=\"middle\"\n            rowKey=\"id\" \n            loading={isLoading}\n            onRow={(record) => {\n                return {\n                    onClick: event => {\n                        registry.getStore('selectedPage').actions.setSelected('question', {record})\n                    }\n                }\n            }}\n            pagination={\n                {\n                    position: ['none', 'bottomCenter'],  \n                    defaultPageSize: 25, \n                    total,\n                    showSizeChanger:false,\n                    onChange: async (page, ...args) => {\n                        setPage(page);\n                        await questionsStore.actions.getQuestions(page);\n                    }\n                }\n            }\n            footer={() => \n                <Button onClick={async ()=>{\n                    await questionsStore.actions.getQuestions(page);\n                }}>\n                    Обновить\n                </Button>\n            }\n            title={() => <div>\n                <h2>Вопросы\n                {(()=>{\n                    if(uid){\n                        return (\n                            <Button type=\"primary\"\n                                style={{ margin: '0 16px' }}\n                                onClick={() => {\n                                    registry.getStore('selectedPage').actions.setSelected('question')\n                                }}\n                            >\n                                Добавить\n                            </Button>\n                        )\n                    }\n                })()}\n                </h2>\n                <QuestionsToolbar store={questionsStore} categoriesStore={categories} />\n            </div>}\n        />\n    );\n});\nexport default QuestionsScreen","import React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Form,\n  Input,\n  Button,\n  Alert,\n} from 'antd';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Registration = (props) => {\n    const registry = useContext(RegistryCtx);\n    const {connection} = registry;\n    const [form] = Form.useForm();\n\n    const onFinish = async (values) => {\n        const copy = Object.assign({}, values);\n        delete copy.confirm\n        try{\n            const response = await connection.request({\n                url: 'https://uchi-hack.herokuapp.com/user/create',\n                params: [copy]\n            });\n            const json = await response.json();\n            ReactDOM.render(\n                <Alert\n                    message=\"Успех!\"\n                    description=\"Регистрация прошла успешно\"\n                    type=\"success\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n        catch (e){\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description=\"Что-то пошло не так\"\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n    const layout = {\n        labelCol: { span: 2 },\n        wrapperCol: { span: 18 },\n    };\n    const tailLayout = {\n        wrapperCol: { offset: 2, span: 18 },\n    };\n    return (\n        <Form\n            form={form}\n            name=\"register\"\n            onFinish={onFinish}\n            style={{padding: '1em'}}\n            {...layout}\n            scrollToFirstError\n        >\n            <Form.Item\n                name=\"login\"\n                label=\"Логин\"\n                tooltip=\"По которому вы будете заходить на сайт\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Логин не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"name\"\n                label=\"Имя\"\n                tooltip=\"Отображаемое на платформе\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Имя не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"surname\"\n                label=\"Фамилия\"\n                tooltip=\"Отображаемая на платформе\"\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                label=\"Пароль\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Please input your password!',\n                },\n                ]}\n                hasFeedback\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                name=\"confirm\"\n                label=\"Повтор пароля\"\n                dependencies={['password']}\n                hasFeedback\n                rules={[\n                {\n                    required: true,\n                    message: 'Please confirm your password!',\n                },\n                ({ getFieldValue }) => ({\n                    validator(_, value) {\n                    if (!value || getFieldValue('password') === value) {\n                        return Promise.resolve();\n                    }\n\n                    return Promise.reject(new Error('The two passwords that you entered do not match!'));\n                    },\n                }),\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"register-form-button\">\n                Зарегистрироваться\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Registration;","import { action, extendObservable } from \"mobx\";\nimport HomeScreen from \"../views/HomeScreen\";\nimport Login from \"../views/Login\";\nimport QuestionPage from \"../views/QuestionPage\";\nimport QuestionsScreen from \"../views/QuestionsScreen\";\nimport Registration from \"../views/Registration\";\n\nconst SelectedPage = () => {\n    const items = {\n        home: <HomeScreen/>,\n        questions: <QuestionsScreen/>,\n        question: <QuestionPage/>,\n        register: <Registration/>,\n        login: <Login/>\n    }\n    const self = {\n    }\n    self.actions = {\n        setSelected: action((page, config = {}) => {\n            self.selected = page;\n            self.actions.setSelectedPageItem(page, config);\n        }),\n        setSelectedPageItem: action((page, config = {})=>{\n            const copy = Object.assign({}, items[page]);\n            copy.props=config;\n            self.selectedPageItem = copy;\n        })\n    }\n    return extendObservable(self, { selected: \"home\", selectedPageItem: items[\"home\"] });\n}\nexport default SelectedPage;","import { action, extendObservable } from \"mobx\";\n\nconst Questions = (connection) => {\n    const self = {\n        isLoading: false,\n        total: 0,\n        questions: [],\n        filters: {},\n        currentPage: 1,\n        pageSize: 25,\n        addFilter(property, value){\n            self.filters[property] = value;\n        },\n        removeFilter(property){\n            if(self.filters[property]) delete self.filters[property];\n        },\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setMessages: action(questions=>self.questions=questions),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getQuestions: action(async (page = 1, pageSize = 25, exact=true) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/${exact?'list':'similar'}`,\n                    params: exact? {...self.filters} : [self.filters.name || '']\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const messages = response.result;\n                    self.actions.setTotal(response.total);\n                    self.actions.setMessages(messages);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n            createQuestion: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/create`,\n                    params: [data]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            })\n        }\n    };\n    return extendObservable(self, { questions: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Questions;","import { action, extendObservable } from \"mobx\";\n\nconst User = (connection) => {\n    const self = {\n        nickname: null,\n        isLoggedIn: false,\n        setUserData: (data) => {\n            self.actions.setAvatar(data.avatar || \"https://via.placeholder.com/150\");\n            self.actions.setUserId(data.id);\n            self.actions.setNickname(data.login);\n            self.info = data;\n        }\n    }\n    self.actions = {\n        setNickname: action(nickname => self.nickname = nickname),\n        setIsLoggedIn: action(value => self.isLoggedIn = value),\n        setAvatar: action(avatar => self.avatar = avatar),\n        setUserId: action(user_id => self.user_id = user_id),\n        isLoggedIn: action(async ()=>{\n            const response = await connection.request({\n                params:[connection.getSession()],\n                url: 'https://uchi-hack.herokuapp.com/user/isLoggedIn'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            if(data.length){\n                self.setUserData(data[0]);\n                self.actions.setIsLoggedIn(true);\n            }\n        }),\n        login: action(async (login, password)=>{\n            const response = await connection.request({\n                params:{\n                    login, password\n                },\n                url: 'https://uchi-hack.herokuapp.com/user/login'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession(data.session_id);\n            self.setUserData(data);\n            self.actions.setIsLoggedIn(true);\n        }),\n        logout: action(async () => {\n            const response = await connection.request({\n                params:[\"\"],\n                url: 'https://uchi-hack.herokuapp.com/user/logout'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession('');\n            self.setUserData({});\n            self.actions.setIsLoggedIn(false);\n        })\n        \n    }\n    return extendObservable(self, { nickname: null, isLoggedIn: false });\n}\nexport default User;","const treefiy = (dataArray, parentId = \"parent_id\") => {\n    const data = [];\n    const byIdMap = {};\n    dataArray.forEach(elem => {\n        byIdMap[elem.id] = elem\n    });\n    dataArray.forEach(elem=>{\n        elem.title = elem.name;\n        elem.value = elem.id;\n        if(!elem[parentId]) {\n            data.push(elem);\n        } else {\n            const parent = byIdMap[elem[parentId]];\n            if(!parent.children) parent.children = [];\n            parent.children.push(elem);\n        }\n    });\n    return data;\n}\n\nexport default treefiy;","import { action, extendObservable } from \"mobx\";\nimport treefiy from \"../utils/Tree\";\n\nconst Categories = (connection) => {\n    const self = {\n        isLoading: false,\n        isLoaded: false,\n        categories: [],\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setCategories: action(categories=>self.categories=categories),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getCategories: action(async (page = 1, pageSize = 25) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/category/list`,\n                    params: {}\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const categories = treefiy(response.result);\n                    self.actions.setTotal(response.total);\n                    self.actions.setCategories(categories);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n        }\n    };\n    return extendObservable(self, { categories: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Categories;","import Connection from \"../utils/Connection\"\nimport { action, extendObservable } from \"mobx\";\nimport SelectedPage from \"./SelectedPage\";\nimport Questions from \"./Questions\";\nimport React from \"react\";\nimport User from \"./User\";\nimport Categories from \"./Categories\";\n\nconst RegistryCtx = React.createContext();\n\nfunction Registry(){\n    const self = {\n        initialized: false,\n        getStore(storeName){\n            if(self.stores && self.stores[storeName]){\n                return self.stores[storeName]\n            } else {\n                throw new Error(`No store with name ${storeName} was found`);\n            }\n        }\n    };\n    self.actions = {\n        init: action(() => {\n            self.connection = Connection().init();\n            self.stores = {\n                selectedPage: SelectedPage(),\n                user: User(self.connection),\n                categories: Categories(self.connection),\n                questions: Questions(self.connection),\n            };\n            self.initialized = true;\n        })\n    }\n\n    return extendObservable(self, { stores: [], initialized: false });\n}\n\nexport {Registry as default, RegistryCtx}","import { Menu } from 'antd';\nimport { observer } from \"mobx-react\";\n\nconst { SubMenu } = Menu;\n\nconst Header = observer(({store}) => {\n    const pageStore = store.getStore('selectedPage');\n    const userInfo = store.getStore('user');\n    \n    const keysForGuests = ['home', 'questions', 'login', 'register'];\n    const keysForUsers = ['home', 'questions', 'avatar', 'profile',];\n    const keys = userInfo.isLoggedIn ? keysForUsers : keysForGuests;\n    const menuItems = {\n        home: \n            <Menu.Item key=\"home\">\n                Домашняя страница\n            </Menu.Item>,\n        questions: \n            <Menu.Item key=\"questions\">\n                Вопросы\n            </Menu.Item>,\n        avatar: \n            <Menu.Item disabled=\"true\"  style={{padding:0}} key=\"avatar\">\n                <img src={userInfo.avatar} alt=\"avatar\" style={{maxWidth:'50px', maxHeight:'50px'}}/>\n            </Menu.Item>,\n        profile:\n            <SubMenu key=\"SubMenu\" title={userInfo.nickname} key=\"profile\">\n                <Menu.Item key=\"profileEdit\">Редактировать профиль</Menu.Item>\n                <Menu.Item key=\"exit\">Выход</Menu.Item>\n            </SubMenu>,\n        login:\n            <Menu.Item key=\"login\">\n                Логин\n            </Menu.Item>,\n        register:\n            <Menu.Item key=\"register\">\n                Регистрация\n            </Menu.Item>\n    }\n    const elems = [];\n    keys.forEach(elem=>{\n        elems.push(menuItems[elem]);\n    })\n    return (\n        <header>\n            <h1>МВО #25</h1>\n            <Menu \n                onClick={(e)=>{\n                    const key = e.key;\n                    if(key === 'exit'){\n                        userInfo.actions.logout();\n                        return;\n                    }\n                    pageStore.actions.setSelected(e.key);\n                }} \n                selectedKeys={[pageStore.selected]} \n                mode=\"horizontal\"\n                style={{display:'block', position:'sticky',top:'0',textAlign:'right'}}\n            >\n                {elems}\n            </Menu>\n        </header>\n    )\n});\n\nexport default Header;","import \"./App.scss\";\nimport Registry, {RegistryCtx} from \"../stores/Registry\";\nimport React from 'react';\nimport Header from \"./Header\";\nimport { observer } from \"mobx-react\";\n\n\nconst registry = Registry();\nregistry.actions.init();\nregistry.getStore('user').actions.isLoggedIn();\n\nconst App = observer(() => {\n  const selectedPageStore = registry.getStore('selectedPage');\n  return (\n    <RegistryCtx.Provider value={registry}>\n      <div className=\"App\">\n        <RegistryCtx.Consumer>\n          {store =><Header store={store}/>}\n        </RegistryCtx.Consumer>\n        <main>\n          {selectedPageStore.selectedPageItem}\n        </main>\n      </div>\n    </RegistryCtx.Provider>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './views/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nreportWebVitals(console.log);\n"],"sourceRoot":""}