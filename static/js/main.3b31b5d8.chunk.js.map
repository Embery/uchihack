{"version":3,"sources":["utils/Connection.js","views/HomeScreen.js","views/Login.js","views/QuestionPage.js","views/QuestionsToolbar.js","views/QuestionsScreen.js","views/Registration.js","stores/SelectedPage.js","stores/Questions.js","stores/User.js","utils/Tree.js","stores/Categories.js","stores/Registry.js","views/Header.js","views/App.js","reportWebVitals.js","index.js"],"names":["Connection","self","socket","init","getSession","document","cookie","split","find","elem","startsWith","setSession","session","length","cookie_date","Date","setTime","getTime","toGMTString","request","config","responseConfig","type","resultConfig","Object","assign","httpRequest","timeout","wsRequest","configCopy","url","fetch","method","body","JSON","stringify","message","data","needResponse","responseMessage","wsSend","waitEvent","response","Error","emit","on","callback","Promise","resolve","reject","cb","setTimeout","off","HomeScreen","props","Login","registry","useContext","RegistryCtx","user","getStore","page","onFinish","values","a","actions","login","username","password","setSelected","ReactDOM","render","getElementById","description","closable","name","className","Item","rules","required","prefix","UserOutlined","placeholder","LockOutlined","htmlType","TextArea","Input","QuestionPage","record","userInfo","questions","isMine","user_id","Form","useForm","form","categoriesStore","isLoaded","isLoading","categories","getCategories","setFieldsValue","copy","created","moment","updated","removeEmptyDates","formSuccess","createQuestion","result","getQuestions","disabled","style","padding","labelCol","span","wrapperCol","label","user_name","user_surname","width","dropdownStyle","maxHeight","overflow","treeData","treeDefaultExpandAll","marginBottom","display","lineHeight","textAlign","rows","offset","status_name","onClick","getFieldsValue","id","setQuestionAnswered","setQuestionClosed","Panel","Collapse","QuestionsToolbar","observer","store","header","keys","forEach","key","addFilter","removeFilter","similar","valuePropName","margin","resetFields","submit","QuestionsScreen","questionsStore","total","useState","setPage","uid","columns","title","dataIndex","value","toLocaleString","dataSource","size","rowKey","loading","onRow","event","pagination","position","defaultPageSize","showSizeChanger","onChange","footer","Registration","connection","confirm","params","json","scrollToFirstError","tooltip","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","_","SelectedPage","items","home","question","register","action","selected","setSelectedPageItem","selectedPageItem","extendObservable","Questions","filters","currentPage","pageSize","property","setTotal","setMessages","setLoading","setIsLoaded","exact","requestConfig","limit","responseObject","success","messages","User","nickname","isLoggedIn","setUserData","setAvatar","avatar","setUserId","setNickname","info","setIsLoggedIn","error_message","session_id","logout","treefiy","dataArray","parentId","byIdMap","parent","children","push","Categories","setCategories","React","createContext","SubMenu","Menu","Header","pageStore","menuItems","src","alt","maxWidth","profile","elems","e","selectedKeys","mode","top","initialized","storeName","stores","selectedPage","Registry","App","selectedPageStore","Provider","Consumer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log"],"mappings":"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","file":"static/js/main.3b31b5d8.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\n\nfunction Connection(){\n    const self = {\n        socket: null,\n        init() {\n            // TODO: вставить real url или переправить с сокетио на нативщину или на что-то еще\n            //self.socket = io('http://localhost:3001');\n            return self;\n        },\n        /**\n         * Если я допустила любой инжект чужого js-кода - у меня уже все плохо,\n         * поэтому я не буду паранойить по поводу того, что сессия в ЛС хранится\n         */\n        getSession(){\n            const cookies = document.cookie.split(';');\n            return cookies.find(elem=>elem.startsWith(\"session_id\"))\n        },\n        setSession(session){\n            if(session.length){\n                document.cookie = \"session_id=\" + session;\n            } else {\n                const cookie_date = new Date ( );  // Текущая дата и время\n                cookie_date.setTime ( cookie_date.getTime() - 1 );\n                document.cookie = \"session_id\" + \"=; expires=\" + cookie_date.toGMTString();\n            }\n        },\n        /**\n         * @param {object} config\n         * @param {object} responseConfig\n         * @param {boolean} responseConfig.needResponse\n         * @param {string} responseConfig.responseMessage\n         * @param {number} responseConfig.timeout\n         */\n        async request(config, responseConfig = {}){\n            const type = config.type || \"http\";\n            const resultConfig = Object.assign({}, config, {session: self.getSession()});\n            if(type === \"http\"){\n                return self.httpRequest(resultConfig, responseConfig.timeout);\n            } else {\n                return self.wsRequest(resultConfig, responseConfig);\n            }\n        },\n        async httpRequest(config, timeout){\n            const configCopy = Object.assign({}, config);\n            delete configCopy.url;\n            return fetch(config.url, {method:'POST', body:JSON.stringify(configCopy||'')});\n        },\n        async wsRequest(config, responseConfig){\n            const {message, data} = config;\n            const {\n                needResponse, \n                responseMessage, \n                timeout\n            } = responseConfig;\n            self.wsSend(message, data);\n            if(needResponse){\n                const response = await this.waitEvent(responseMessage, timeout);\n                return response;\n            }\n            return true;\n        },\n        wsSend(message, data){\n            if(!self.socket) throw new Error('Request sent before initialization finished!')\n            self.socket.emit(message, data);\n        },\n        on(message, callback){\n            self.socket.on(message, callback);\n        },\n        async waitEvent(message, timeout = 15000) {\n            return new Promise((resolve, reject) => {\n                const cb = (data) => {\n                    resolve(data);\n                }\n                self.socket.on(message, cb);\n                setTimeout(() => {\n                    self.socket.off(message, cb);\n                    reject(\"Time limit exceeded\");\n                }, timeout);\n            })\n        }\n    };\n    return self;\n}\n\nexport default Connection;","const HomeScreen = (props) => {\n    return (\n        <article>\n            <h2>\n                Привет, друг!\n            </h2>\n            <p>\n                Ты оказался на платформе, где можешь помочь другим или сам получить помощь по каким-либо вопросам по предметам школьной программы.\n            </p>\n            <p>\n                Чем большему количеству людей ты поможешь, тем больше у тебя будет баллов и тем выше ты будешь в общем рейтинге\n            </p>\n            <p>\n                С другой стороны, ты можешь помочь другим почувствовать свою важность и нужность, помечая самый крутой ответ и распределяя баллы за вопрос (подробнее будет в путеводителе)\n            </p>\n            <p>\n                Мы надеемся, ты получишь удовольствие от путешествия по системе МВО #25\n            </p>\n            <p>\n                Команда МВО\n            </p>\n        </article>\n    )\n}\n\nexport default HomeScreen;","import { Form, Input, Button, Alert} from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Login = () => {\n    const registry = useContext(RegistryCtx);\n    const user = registry.getStore('user');\n    const page = registry.getStore('selectedPage')\n    const onFinish = async (values) => {\n        try{\n            await user.actions.login(values.username, values.password);\n            page.actions.setSelected('questions');\n            ReactDOM.render(\n                null, \n                document.getElementById('notification')\n            );\n        } \n        catch(e) {\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description={e.message}\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n\n    return (\n        <Form\n            name=\"normal_login\"\n            className=\"login-form\"\n            onFinish={onFinish}\n        >\n            <Form.Item\n                name=\"username\"\n                rules={[{ required: true, message: 'Введите логин!' }]}\n            >\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Логин\" />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Введите пароль!' }]}\n            >\n                <Input\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                type=\"password\"\n                placeholder=\"Пароль\"\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                    Войти\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Login;","import { DatePicker, Form, Input, TreeSelect, Button} from 'antd';\nimport moment from 'moment';\nimport React, {useContext} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst { TextArea } = Input;\n\nconst removeEmptyDates = (record) => {\n    const copy = Object.assign({}, record);\n    if(!copy.created) delete copy.created;\n    else copy.created = moment(copy.created);\n    if(!copy.updated) delete copy.updated;\n    else copy.updated = moment(copy.updated);\n    return copy;\n}\nconst QuestionPage = (props) => {\n    const {record} = props;\n    const registry = useContext(RegistryCtx);\n    const userInfo = registry.getStore('user');\n    const questions = registry.getStore('questions');\n\n    const isMine = !record || (record.user_id === userInfo.user_id);\n    const [form] = Form.useForm();\n\n    const categoriesStore = registry.getStore('categories');\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n\n    form.setFieldsValue(removeEmptyDates(record));\n\n    const formSuccess = async (values) => {\n        const copy = Object.assign({}, values);\n        copy.user_id = userInfo.user_id;\n        const result = await questions.actions.createQuestion(copy);\n        questions.actions.getQuestions();\n        form.setFieldsValue(result[0])\n    }\n    return (\n        <fieldset disabled={!isMine}>\n            <Form \n                form={form} \n                name=\"questions\" \n                style={{padding: '1em'}}\n                onFinish={values => formSuccess(values)}\n                labelCol={{\n                    span: 2,\n                }}\n                wrapperCol={{\n                    span: 18,\n                }}\n            >\n                {(() => {\n                    if(record) return (\n                    <Form.Item label=\"Автор\">\n                        <span>\n                            {`${record.user_name || ''} ${record.user_surname || ''}`}\n                        </span>\n                    </Form.Item>)\n                })()}\n                <Form.Item name=\"name\" label=\"Название\" rules={[{ required: true }]}>\n                    <Input/>\n                </Form.Item>\n                <Form.Item name=\"category_id\" label=\"Тема\">\n                    <TreeSelect\n                        style={{ width: '100%' }}\n                        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                        treeData={categories}\n                        placeholder=\"Тема\"\n                        treeDefaultExpandAll\n                        disabled={!isMine}\n                    />\n                </Form.Item>\n                <Form.Item label=\"Создан\" style={{ marginBottom: 0 }}>\n                    <Form.Item\n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"created\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                    <span\n                        style={{ display: 'inline-block', width: '70px', lineHeight: '32px', textAlign: 'center' }}\n                    >\n                        Изменен: \n                    </span>\n                    <Form.Item \n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"updated\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item name=\"body\" label=\"Вопрос\" rules={[{ required: true }]}>\n                    <TextArea rows={10}/>\n                </Form.Item>\n                <Form.Item wrapperCol={{ offset: 2, span: 18 }} className=\"question-form-footer-container\">\n                {\n                    (()=>{\n                        if(!record) return (\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"question-form-button\">\n                                Задать вопрос\n                            </Button>\n                        )\n                        if(isMine && record.status_name === 'Новый') return (\n                            <div>\n                                <Button type=\"primary\" className=\"question-form-button\"\n                                    onClick={async ()=>{\n                                        const values = form.getFieldsValue();\n                                        values.id = record.id;\n                                        const result = await questions.actions.setQuestionAnswered(values);\n                                        questions.actions.getQuestions();\n                                        form.setFieldsValue(result[0])\n                                    }}\n                                >\n                                    Пометить отвеченным\n                                </Button>\n                                <Button className=\"question-form-button\"\n                                    onClick={async ()=>{\n                                        const values = form.getFieldsValue();\n                                        values.id = record.id;\n                                        const result = await questions.actions.setQuestionClosed(values);\n                                        questions.actions.getQuestions();\n                                        form.setFieldsValue(result[0])\n                                    }}\n                                >\n                                    Закрыть вопрос\n                                </Button>\n                            </div>\n                        )\n                    })()\n                }\n                </Form.Item>\n            </Form>\n        </fieldset>\n    );\n}\n\nexport default QuestionPage;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Form, Row, Col, Input, Button, DatePicker, TreeSelect, Checkbox, Collapse } from 'antd';\n\n\nconst {Panel} = Collapse;\nconst QuestionsToolbar = observer((props) => {\n    const {store, categoriesStore} = props;\n    const [form] = Form.useForm();\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n    const formSuccess = (values, store) => {\n        Object.keys(values).forEach(key=>{\n            if(key!==\"similar\") {\n                if(values[key]) store.addFilter(key, values[key]);\n                else store.removeFilter(key);\n            }\n        });\n        if(!values.similar){\n            store.actions.getQuestions();\n        }\n        else {\n            //TODO - хранить страницу и pageSize в сторе чтобы вот этой дичи не было\n            store.actions.getQuestions(1, 25, false);\n        }\n    }\n    return (\n        <Collapse>\n            <Panel header=\"Фильтры\">\n                <Form\n                    form={form}\n                    name=\"filters\"\n                    className=\"ant-advanced-search-form\"\n                    onFinish={values => formSuccess(values, store)}\n                    >\n                        <Form.Item name=\"id\" label=\"Номер\">\n                            <Input placeholder=\"№\" />\n                        </Form.Item>\n                        <Form.Item name=\"name\" label=\"Вопрос\">\n                            <Input placeholder=\"Вопрос\" />\n                        </Form.Item>\n                        <Form.Item name=\"similar\" valuePropName=\"checked\">\n                            <Checkbox >Похожие</Checkbox>\n                        </Form.Item>\n                        <Form.Item>\n                            <Row>\n                                <Col>\n                                    <Form.Item name=\"created_gt\" label=\"Создан\">\n                                        <DatePicker placeholder=\"Начало\" />\n                                    </Form.Item>\n                                </Col>\n                                <Col style={{margin:\"0 0 0 1em\"}}>\n                                    <Form.Item name=\"created_lt\">\n                                        <DatePicker placeholder=\"Конец\" />\n                                    </Form.Item>\n                                </Col>\n                            </Row>\n                        </Form.Item>\n                        <Form.Item>\n                            <Row>\n                                <Col>\n                                    <Form.Item name=\"updated_gt\" label=\"Обновлен\">\n                                        <DatePicker placeholder=\"Начало\" />\n                                    </Form.Item>\n                                </Col>\n                                <Col style={{margin:\"0 0 0 1em\"}}>\n                                    <Form.Item name=\"updated_lt\">\n                                        <DatePicker placeholder=\"Конец\" />\n                                    </Form.Item>\n                                </Col>\n                            </Row>\n                        </Form.Item>\n                        <Form.Item name=\"category_id\" label=\"Тема\">\n                            <TreeSelect\n                                style={{ width: '100%' }}\n                                dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                treeData={categories}\n                                placeholder=\"Тема\"\n                                treeDefaultExpandAll\n                            />\n                        </Form.Item>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Искать\n                        </Button>\n                        <Button\n                            style={{ margin: '0 8px' }}\n                            onClick={() => {\n                            form.resetFields();\n                            form.submit();\n                            }}\n                        >\n                            Очистить фильтры\n                        </Button>\n                </Form>\n            </Panel>\n        </Collapse>\n    );\n});\nexport default QuestionsToolbar;","import { Table, Button} from 'antd';\nimport QuestionsToolbar from './QuestionsToolbar';\nimport { observer } from \"mobx-react\";\nimport React, {useContext, useState} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst QuestionsScreen = observer(props => {\n    const registry = useContext(RegistryCtx);\n    const questionsStore = registry.getStore('questions');\n    const categories = registry.getStore('categories');\n    const {questions, total, isLoading, isLoaded} = questionsStore;\n    const [page, setPage] = useState(1);\n    const uid = registry.getStore('user').user_id;\n    const columns = [\n        {\n            title: '#',\n            dataIndex: 'id',\n        },\n        {\n            title: 'Название',\n            dataIndex: 'name',\n        },\n        {\n            title: 'Тема',\n            dataIndex: 'category_name'\n        },\n        {\n            title: 'Статус',\n            dataIndex: 'status_name',\n        },\n        {\n            title: 'Создан',\n            dataIndex: 'created',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Изменен',\n            dataIndex: 'updated',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Баллы',\n            dataIndex: 'points'\n        },\n        {\n            title: \"Автор\",\n            dataIndex: \"user_name\",\n            render: (value, record) => {\n                return (value || '') + ' ' + (record.user_surname || '');\n            }\n        }\n    ];\n    const {getQuestions} = questionsStore.actions;\n    if(!isLoaded && !isLoading) getQuestions();\n    return (\n        <Table \n            dataSource={questions} \n            columns={columns}\n            size=\"middle\"\n            rowKey=\"id\" \n            loading={isLoading}\n            onRow={(record) => {\n                return {\n                    onClick: event => {\n                        registry.getStore('selectedPage').actions.setSelected('question', {record})\n                    }\n                }\n            }}\n            pagination={\n                {\n                    position: ['none', 'bottomCenter'],  \n                    defaultPageSize: 25, \n                    total,\n                    showSizeChanger:false,\n                    onChange: async (page, ...args) => {\n                        setPage(page);\n                        await questionsStore.actions.getQuestions(page);\n                    }\n                }\n            }\n            footer={() => \n                <Button onClick={async ()=>{\n                    await questionsStore.actions.getQuestions(page);\n                }}>\n                    Обновить\n                </Button>\n            }\n            title={() => <div>\n                <h2>Вопросы\n                {(()=>{\n                    if(uid){\n                        return (\n                            <Button type=\"primary\"\n                                style={{ margin: '0 16px' }}\n                                onClick={() => {\n                                    registry.getStore('selectedPage').actions.setSelected('question')\n                                }}\n                            >\n                                Добавить\n                            </Button>\n                        )\n                    }\n                })()}\n                </h2>\n                <QuestionsToolbar store={questionsStore} categoriesStore={categories} />\n            </div>}\n        />\n    );\n});\nexport default QuestionsScreen","import React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Form,\n  Input,\n  Button,\n  Alert,\n} from 'antd';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Registration = (props) => {\n    const registry = useContext(RegistryCtx);\n    const {connection} = registry;\n    const [form] = Form.useForm();\n\n    const onFinish = async (values) => {\n        const copy = Object.assign({}, values);\n        delete copy.confirm\n        try{\n            const response = await connection.request({\n                url: 'https://uchi-hack.herokuapp.com/user/create',\n                params: [copy]\n            });\n            const json = await response.json();\n            ReactDOM.render(\n                <Alert\n                    message=\"Успех!\"\n                    description=\"Регистрация прошла успешно\"\n                    type=\"success\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n        catch (e){\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description=\"Что-то пошло не так\"\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n    const layout = {\n        labelCol: { span: 2 },\n        wrapperCol: { span: 18 },\n    };\n    const tailLayout = {\n        wrapperCol: { offset: 2, span: 18 },\n    };\n    return (\n        <Form\n            form={form}\n            name=\"register\"\n            onFinish={onFinish}\n            style={{padding: '1em'}}\n            {...layout}\n            scrollToFirstError\n        >\n            <Form.Item\n                name=\"login\"\n                label=\"Логин\"\n                tooltip=\"По которому вы будете заходить на сайт\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Логин не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"name\"\n                label=\"Имя\"\n                tooltip=\"Отображаемое на платформе\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Имя не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"surname\"\n                label=\"Фамилия\"\n                tooltip=\"Отображаемая на платформе\"\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                label=\"Пароль\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Please input your password!',\n                },\n                ]}\n                hasFeedback\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                name=\"confirm\"\n                label=\"Повтор пароля\"\n                dependencies={['password']}\n                hasFeedback\n                rules={[\n                {\n                    required: true,\n                    message: 'Please confirm your password!',\n                },\n                ({ getFieldValue }) => ({\n                    validator(_, value) {\n                    if (!value || getFieldValue('password') === value) {\n                        return Promise.resolve();\n                    }\n\n                    return Promise.reject(new Error('The two passwords that you entered do not match!'));\n                    },\n                }),\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"register-form-button\">\n                Зарегистрироваться\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Registration;","import { action, extendObservable } from \"mobx\";\nimport HomeScreen from \"../views/HomeScreen\";\nimport Login from \"../views/Login\";\nimport QuestionPage from \"../views/QuestionPage\";\nimport QuestionsScreen from \"../views/QuestionsScreen\";\nimport Registration from \"../views/Registration\";\n\nconst SelectedPage = () => {\n    const items = {\n        home: <HomeScreen/>,\n        questions: <QuestionsScreen/>,\n        question: <QuestionPage/>,\n        register: <Registration/>,\n        login: <Login/>\n    }\n    const self = {\n    }\n    self.actions = {\n        setSelected: action((page, config = {}) => {\n            self.selected = page;\n            self.actions.setSelectedPageItem(page, config);\n        }),\n        setSelectedPageItem: action((page, config = {})=>{\n            const copy = Object.assign({}, items[page]);\n            copy.props=config;\n            self.selectedPageItem = copy;\n        })\n    }\n    return extendObservable(self, { selected: \"home\", selectedPageItem: items[\"home\"] });\n}\nexport default SelectedPage;","import { action, extendObservable } from \"mobx\";\n\nconst Questions = (connection) => {\n    const self = {\n        isLoading: false,\n        total: 0,\n        questions: [],\n        filters: {},\n        currentPage: 1,\n        pageSize: 25,\n        addFilter(property, value){\n            self.filters[property] = value;\n        },\n        removeFilter(property){\n            if(self.filters[property]) delete self.filters[property];\n        },\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setMessages: action(questions=>self.questions=questions),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getQuestions: action(async (page = 1, pageSize = 25, exact=true) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/${exact?'list':'similar'}`,\n                    params: exact? {...self.filters} : [self.filters.name || '']\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const messages = response.result;\n                    self.actions.setTotal(response.total);\n                    self.actions.setMessages(messages);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n            createQuestion: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/create`,\n                    params: [data]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            }),\n            setQuestionAnswered: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/close`,\n                    params: [data.id]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            }),\n            setQuestionClosed: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/cancel`,\n                    params: [data.id]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            })\n        }\n    };\n    return extendObservable(self, { questions: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Questions;","import { action, extendObservable } from \"mobx\";\n\nconst User = (connection) => {\n    const self = {\n        nickname: null,\n        isLoggedIn: false,\n        setUserData: (data) => {\n            self.actions.setAvatar(data.avatar || \"https://via.placeholder.com/150\");\n            self.actions.setUserId(data.id);\n            self.actions.setNickname(data.login);\n            self.info = data;\n        }\n    }\n    self.actions = {\n        setNickname: action(nickname => self.nickname = nickname),\n        setIsLoggedIn: action(value => self.isLoggedIn = value),\n        setAvatar: action(avatar => self.avatar = avatar),\n        setUserId: action(user_id => self.user_id = user_id),\n        isLoggedIn: action(async ()=>{\n            const response = await connection.request({\n                params:[connection.getSession()?.split('=')[1] || ''],\n                url: 'https://uchi-hack.herokuapp.com/user/isLoggedIn'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            if(data.length){\n                self.setUserData(data[0]);\n                self.actions.setIsLoggedIn(true);\n            }\n        }),\n        login: action(async (login, password)=>{\n            const response = await connection.request({\n                params:{\n                    login, password\n                },\n                url: 'https://uchi-hack.herokuapp.com/user/login'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession(data.session_id);\n            self.setUserData(data);\n            self.actions.setIsLoggedIn(true);\n        }),\n        logout: action(async () => {\n            const response = await connection.request({\n                params:[\"\"],\n                url: 'https://uchi-hack.herokuapp.com/user/logout'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession('');\n            self.setUserData({});\n            self.actions.setIsLoggedIn(false);\n        })\n        \n    }\n    return extendObservable(self, { nickname: null, isLoggedIn: false });\n}\nexport default User;","const treefiy = (dataArray, parentId = \"parent_id\") => {\n    const data = [];\n    const byIdMap = {};\n    dataArray.forEach(elem => {\n        byIdMap[elem.id] = elem\n    });\n    dataArray.forEach(elem=>{\n        elem.title = elem.name;\n        elem.value = elem.id;\n        if(!elem[parentId]) {\n            data.push(elem);\n        } else {\n            const parent = byIdMap[elem[parentId]];\n            if(!parent.children) parent.children = [];\n            parent.children.push(elem);\n        }\n    });\n    return data;\n}\n\nexport default treefiy;","import { action, extendObservable } from \"mobx\";\nimport treefiy from \"../utils/Tree\";\n\nconst Categories = (connection) => {\n    const self = {\n        isLoading: false,\n        isLoaded: false,\n        categories: [],\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setCategories: action(categories=>self.categories=categories),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getCategories: action(async (page = 1, pageSize = 25) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/category/list`,\n                    params: {}\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const categories = treefiy(response.result);\n                    self.actions.setTotal(response.total);\n                    self.actions.setCategories(categories);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n        }\n    };\n    return extendObservable(self, { categories: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Categories;","import Connection from \"../utils/Connection\"\nimport { action, extendObservable } from \"mobx\";\nimport SelectedPage from \"./SelectedPage\";\nimport Questions from \"./Questions\";\nimport React from \"react\";\nimport User from \"./User\";\nimport Categories from \"./Categories\";\n\nconst RegistryCtx = React.createContext();\n\nfunction Registry(){\n    const self = {\n        initialized: false,\n        getStore(storeName){\n            if(self.stores && self.stores[storeName]){\n                return self.stores[storeName]\n            } else {\n                throw new Error(`No store with name ${storeName} was found`);\n            }\n        }\n    };\n    self.actions = {\n        init: action(() => {\n            self.connection = Connection().init();\n            self.stores = {\n                selectedPage: SelectedPage(),\n                user: User(self.connection),\n                categories: Categories(self.connection),\n                questions: Questions(self.connection),\n            };\n            self.initialized = true;\n        })\n    }\n\n    return extendObservable(self, { stores: [], initialized: false });\n}\n\nexport {Registry as default, RegistryCtx}","import { Menu } from 'antd';\nimport { observer } from \"mobx-react\";\n\nconst { SubMenu } = Menu;\n\nconst Header = observer(({store}) => {\n    const pageStore = store.getStore('selectedPage');\n    const userInfo = store.getStore('user');\n    \n    const keysForGuests = ['home', 'questions', 'login', 'register'];\n    const keysForUsers = ['home', 'questions', 'avatar', 'profile',];\n    const keys = userInfo.isLoggedIn ? keysForUsers : keysForGuests;\n    const menuItems = {\n        home: \n            <Menu.Item key=\"home\">\n                Домашняя страница\n            </Menu.Item>,\n        questions: \n            <Menu.Item key=\"questions\">\n                Вопросы\n            </Menu.Item>,\n        avatar: \n            <Menu.Item disabled=\"true\"  style={{padding:0}} key=\"avatar\">\n                <img src={userInfo.avatar} alt=\"avatar\" style={{maxWidth:'50px', maxHeight:'50px'}}/>\n            </Menu.Item>,\n        profile:\n            <SubMenu key=\"SubMenu\" title={userInfo.nickname} key=\"profile\">\n                <Menu.Item key=\"profileEdit\">Редактировать профиль</Menu.Item>\n                <Menu.Item key=\"exit\">Выход</Menu.Item>\n            </SubMenu>,\n        login:\n            <Menu.Item key=\"login\">\n                Логин\n            </Menu.Item>,\n        register:\n            <Menu.Item key=\"register\">\n                Регистрация\n            </Menu.Item>\n    }\n    const elems = [];\n    keys.forEach(elem=>{\n        elems.push(menuItems[elem]);\n    })\n    return (\n        <header>\n            <h1>МВО #25</h1>\n            <Menu \n                onClick={(e)=>{\n                    const key = e.key;\n                    if(key === 'exit'){\n                        userInfo.actions.logout();\n                        return;\n                    }\n                    pageStore.actions.setSelected(e.key);\n                }} \n                selectedKeys={[pageStore.selected]} \n                mode=\"horizontal\"\n                style={{display:'block', position:'sticky',top:'0',textAlign:'right'}}\n            >\n                {elems}\n            </Menu>\n        </header>\n    )\n});\n\nexport default Header;","import \"./App.scss\";\nimport Registry, {RegistryCtx} from \"../stores/Registry\";\nimport React from 'react';\nimport Header from \"./Header\";\nimport { observer } from \"mobx-react\";\n\n\nconst registry = Registry();\nregistry.actions.init();\nregistry.getStore('user').actions.isLoggedIn();\n\nconst App = observer(() => {\n  const selectedPageStore = registry.getStore('selectedPage');\n  return (\n    <RegistryCtx.Provider value={registry}>\n      <div className=\"App\">\n        <RegistryCtx.Consumer>\n          {store =><Header store={store}/>}\n        </RegistryCtx.Consumer>\n        <main>\n          {selectedPageStore.selectedPageItem}\n        </main>\n      </div>\n    </RegistryCtx.Provider>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './views/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nreportWebVitals(console.log);\n"],"sourceRoot":""}