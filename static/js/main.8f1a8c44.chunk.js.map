{"version":3,"sources":["utils/Connection.js","views/HomeScreen.js","views/Login.js","views/Answers.js","views/QuestionPage.js","views/QuestionsToolbar.js","views/QuestionsScreen.js","views/Registration.js","views/EditProfile.js","stores/SelectedPage.js","stores/Questions.js","stores/Answers.js","stores/User.js","utils/Tree.js","stores/Categories.js","stores/Registry.js","views/Header.js","views/App.js","reportWebVitals.js","index.js"],"names":["Connection","self","socket","init","getSession","document","cookie","split","find","elem","startsWith","setSession","session","length","cookie_date","Date","setTime","getTime","toGMTString","request","config","responseConfig","type","resultConfig","Object","assign","httpRequest","timeout","wsRequest","configCopy","url","fetch","method","body","JSON","stringify","message","data","needResponse","responseMessage","wsSend","waitEvent","response","Error","emit","on","callback","Promise","resolve","reject","cb","setTimeout","off","HomeScreen","props","Login","registry","useContext","RegistryCtx","user","getStore","page","onFinish","values","a","actions","login","username","password","setSelected","ReactDOM","render","getElementById","description","closable","name","className","Item","rules","required","prefix","UserOutlined","placeholder","LockOutlined","htmlType","Answers","observer","answers","record","isLoaded","isLoading","getAnswers","map","author","user_name","user_surname","content","datetime","title","moment","created","format","fromNow","id","TextArea","Input","QuestionPage","userInfo","questions","isMine","user_id","question","addFilter","Form","useForm","form","answer","categoriesStore","categories","getCategories","setFieldsValue","copy","updated","removeEmptyDates","formSuccess","createQuestion","result","getQuestions","disabled","style","padding","labelCol","span","wrapperCol","label","width","dropdownStyle","maxHeight","overflow","treeData","treeDefaultExpandAll","marginBottom","display","lineHeight","textAlign","rows","status_name","offset","onClick","getFieldsValue","setQuestionAnswered","setQuestionClosed","question_id","createAnswer","Panel","Collapse","QuestionsToolbar","store","uid","header","clearFilters","keys","forEach","key","removeFilter","similar","valuePropName","margin","resetFields","submit","QuestionsScreen","questionsStore","total","useState","setPage","columns","dataIndex","value","toLocaleString","dataSource","size","rowKey","loading","onRow","event","pagination","position","defaultPageSize","showSizeChanger","onChange","footer","Registration","connection","confirm","params","json","scrollToFirstError","tooltip","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","_","Profile","SelectedPage","items","home","register","profileEdit","action","selected","setSelectedPageItem","selectedPageItem","extendObservable","Questions","filters","currentPage","pageSize","property","setTotal","setMessages","setLoading","setIsLoaded","exact","requestConfig","limit","responseObject","success","messages","setQuestion","setAnswers","User","nickname","isLoggedIn","setUserData","setAvatar","avatar","setUserId","setNickname","info","setIsLoggedIn","error_message","session_id","logout","treefiy","dataArray","parentId","byIdMap","parent","children","push","Categories","setCategories","React","createContext","SubMenu","Menu","Header","pageStore","menuItems","src","alt","maxWidth","profile","elems","e","selectedKeys","mode","top","initialized","storeName","stores","selectedPage","Registry","App","selectedPageStore","Provider","Consumer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","console","log"],"mappings":"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","file":"static/js/main.8f1a8c44.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\n\nfunction Connection(){\n    const self = {\n        socket: null,\n        init() {\n            // TODO: вставить real url или переправить с сокетио на нативщину или на что-то еще\n            //self.socket = io('http://localhost:3001');\n            return self;\n        },\n        /**\n         * Если я допустила любой инжект чужого js-кода - у меня уже все плохо,\n         * поэтому я не буду паранойить по поводу того, что сессия в ЛС хранится\n         */\n        getSession(){\n            const cookies = document.cookie.split(';');\n            return cookies.find(elem=>elem.startsWith(\"session_id\"))\n        },\n        setSession(session){\n            if(session.length){\n                document.cookie = \"session_id=\" + session;\n            } else {\n                const cookie_date = new Date ( );  // Текущая дата и время\n                cookie_date.setTime ( cookie_date.getTime() - 1 );\n                document.cookie = \"session_id\" + \"=; expires=\" + cookie_date.toGMTString();\n            }\n        },\n        /**\n         * @param {object} config\n         * @param {object} responseConfig\n         * @param {boolean} responseConfig.needResponse\n         * @param {string} responseConfig.responseMessage\n         * @param {number} responseConfig.timeout\n         */\n        async request(config, responseConfig = {}){\n            const type = config.type || \"http\";\n            const resultConfig = Object.assign({}, config, {session: self.getSession()});\n            if(type === \"http\"){\n                return self.httpRequest(resultConfig, responseConfig.timeout);\n            } else {\n                return self.wsRequest(resultConfig, responseConfig);\n            }\n        },\n        async httpRequest(config, timeout){\n            const configCopy = Object.assign({}, config);\n            delete configCopy.url;\n            return fetch(config.url, {method:'POST', body:JSON.stringify(configCopy||'')});\n        },\n        async wsRequest(config, responseConfig){\n            const {message, data} = config;\n            const {\n                needResponse, \n                responseMessage, \n                timeout\n            } = responseConfig;\n            self.wsSend(message, data);\n            if(needResponse){\n                const response = await this.waitEvent(responseMessage, timeout);\n                return response;\n            }\n            return true;\n        },\n        wsSend(message, data){\n            if(!self.socket) throw new Error('Request sent before initialization finished!')\n            self.socket.emit(message, data);\n        },\n        on(message, callback){\n            self.socket.on(message, callback);\n        },\n        async waitEvent(message, timeout = 15000) {\n            return new Promise((resolve, reject) => {\n                const cb = (data) => {\n                    resolve(data);\n                }\n                self.socket.on(message, cb);\n                setTimeout(() => {\n                    self.socket.off(message, cb);\n                    reject(\"Time limit exceeded\");\n                }, timeout);\n            })\n        }\n    };\n    return self;\n}\n\nexport default Connection;","const HomeScreen = (props) => {\n    return (\n        <article>\n            <h2>\n                Привет, друг!\n            </h2>\n            <p>\n                Ты оказался на платформе, где можешь помочь другим или сам получить помощь по каким-либо вопросам по предметам школьной программы.\n            </p>\n            <p>\n                Чем большему количеству людей ты поможешь, тем больше у тебя будет баллов и тем выше ты будешь в общем рейтинге\n            </p>\n            <p>\n                С другой стороны, ты можешь помочь другим почувствовать свою важность и нужность, помечая самый крутой ответ и распределяя баллы за вопрос (подробнее будет в путеводителе)\n            </p>\n            <p>\n                Мы надеемся, ты получишь удовольствие от путешествия по системе МВО #25\n            </p>\n            <p>\n                Команда МВО\n            </p>\n        </article>\n    )\n}\n\nexport default HomeScreen;","import { Form, Input, Button, Alert} from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Login = () => {\n    const registry = useContext(RegistryCtx);\n    const user = registry.getStore('user');\n    const page = registry.getStore('selectedPage')\n    const onFinish = async (values) => {\n        try{\n            await user.actions.login(values.username, values.password);\n            page.actions.setSelected('questions');\n            ReactDOM.render(\n                null, \n                document.getElementById('notification')\n            );\n        } \n        catch(e) {\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description={e.message}\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n\n    return (\n        <Form\n            name=\"normal_login\"\n            className=\"login-form\"\n            onFinish={onFinish}\n        >\n            <Form.Item\n                name=\"username\"\n                rules={[{ required: true, message: 'Введите логин!' }]}\n            >\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Логин\" />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                rules={[{ required: true, message: 'Введите пароль!' }]}\n            >\n                <Input\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                type=\"password\"\n                placeholder=\"Пароль\"\n                />\n            </Form.Item>\n\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                    Войти\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Login;","import { \n    Comment, Tooltip\n} from 'antd';\nimport { observer } from \"mobx-react\";\nimport moment from 'moment';\nimport React from 'react';\n\nconst Answers = observer((props) => {\n    const {answers, record} = props;\n    if(record && !answers.isLoaded && !answers.isLoading) {\n        answers.actions.getAnswers();\n    }\n    return (\n        answers.answers.map(elem => {\n            return(\n                <Comment\n                    author={<b>{`${elem.user_name} ${elem.user_surname}`}</b>}\n                    content={\n                        <p>\n                        {elem.body}\n                        </p>\n                    }\n                    key={elem.id}\n                    datetime={\n                        <Tooltip title={moment(elem.created).format('YYYY-MM-DD HH:mm:ss')}>\n                        <span>{moment(elem.created).fromNow()}</span>\n                        </Tooltip>\n                    }\n                />\n            )\n        })\n    )\n})\n\nexport default Answers","import { \n    DatePicker, Form, Input, TreeSelect, Button, Comment, Tooltip\n} from 'antd';\nimport moment from 'moment';\nimport { observer } from \"mobx-react\";\nimport Answers from './Answers';\nimport React, {useContext} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst { TextArea } = Input;\n\nconst removeEmptyDates = (record) => {\n    const copy = Object.assign({}, record);\n    if(!copy.created) delete copy.created;\n    else copy.created = moment(copy.created);\n    if(!copy.updated) delete copy.updated;\n    else copy.updated = moment(copy.updated);\n    return copy;\n}\nconst QuestionPage = observer((props) => {\n    const {record} = props;\n    const registry = useContext(RegistryCtx);\n    const userInfo = registry.getStore('user');\n    const questions = registry.getStore('questions');\n    const answers = registry.getStore('answers');\n\n    const isMine = !record || (record.user_id === userInfo.user_id);\n    if(record && record.id !== answers.question) {\n        answers.addFilter('question_id', record.id)\n    }\n    const [form] = Form.useForm();\n    const [answer] = Form.useForm();\n\n    const categoriesStore = registry.getStore('categories');\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n\n    form.setFieldsValue(removeEmptyDates(record));\n\n    const formSuccess = async (values) => {\n        const copy = Object.assign({}, values);\n        copy.user_id = userInfo.user_id;\n        const result = await questions.actions.createQuestion(copy);\n        questions.actions.getQuestions();\n        form.setFieldsValue(result[0])\n    }\n    return (\n        <div>\n        <fieldset disabled={!isMine}>\n            <Form \n                form={form} \n                name=\"questions\" \n                style={{padding: '1em'}}\n                onFinish={values => formSuccess(values)}\n                labelCol={{\n                    span: 2,\n                }}\n                wrapperCol={{\n                    span: 18,\n                }}\n            >\n                {(() => {\n                    if(record) return (\n                    <Form.Item label=\"Автор\">\n                        <span>\n                            {`${record.user_name || ''} ${record.user_surname || ''}`}\n                        </span>\n                    </Form.Item>)\n                })()}\n                <Form.Item name=\"name\" label=\"Название\" rules={[{ required: true }]}>\n                    <Input/>\n                </Form.Item>\n                <Form.Item name=\"category_id\" label=\"Тема\">\n                    <TreeSelect\n                        style={{ width: '100%' }}\n                        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                        treeData={categories}\n                        placeholder=\"Тема\"\n                        treeDefaultExpandAll\n                        disabled={!isMine}\n                    />\n                </Form.Item>\n                <Form.Item label=\"Создан\" style={{ marginBottom: 0 }}>\n                    <Form.Item\n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"created\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                    <span\n                        style={{ display: 'inline-block', width: '70px', lineHeight: '32px', textAlign: 'center' }}\n                    >\n                        Изменен: \n                    </span>\n                    <Form.Item \n                        style={{ display: 'inline-block', width: 'calc(50% - 40px)' }}\n                        name=\"updated\"\n                    >\n                        <DatePicker disabled/>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item name=\"body\" label=\"Вопрос\" rules={[{ required: true }]}>\n                    <TextArea rows={10}/>\n                </Form.Item>\n                {\n                    (()=>{\n                        if(!record) return (\n                            <Form.Item wrapperCol={{ offset: 2, span: 18 }} className=\"question-form-footer-container\">\n                            <Button type=\"primary\" htmlType=\"submit\" className=\"question-form-button\">\n                                Задать вопрос\n                            </Button>\n                            </Form.Item>\n                        )\n                        if(isMine && record.status_name === 'Новый') return (\n                            <Form.Item wrapperCol={{ offset: 2, span: 18 }} className=\"question-form-footer-container\">\n                            <div>\n                                <Button type=\"primary\" className=\"question-form-button\"\n                                    onClick={async ()=>{\n                                        const values = form.getFieldsValue();\n                                        values.id = record.id;\n                                        const result = await questions.actions.setQuestionAnswered(values);\n                                        questions.actions.getQuestions();\n                                        form.setFieldsValue(result[0])\n                                    }}\n                                >\n                                    Пометить отвеченным\n                                </Button>\n                                <Button className=\"question-form-button\"\n                                    onClick={async ()=>{\n                                        const values = form.getFieldsValue();\n                                        values.id = record.id;\n                                        const result = await questions.actions.setQuestionClosed(values);\n                                        questions.actions.getQuestions();\n                                        form.setFieldsValue(result[0])\n                                    }}\n                                >\n                                    Закрыть вопрос\n                                </Button>\n                            </div>\n                            </Form.Item>\n                        )\n                    })()\n                }\n            </Form>\n        </fieldset>\n        {(()=>{\n            if(record) return(\n                <Form \n                    style={{padding: '1em'}}\n                    labelCol={{\n                        span: 2,\n                    }}\n                    wrapperCol={{\n                        span: 18,\n                    }}\n                >\n                    <Form.Item label=\"Ответы\">\n                        <Answers record={record} answers={answers}/>\n                    </Form.Item>\n                </Form>\n            );\n        })()}\n        {(()=>{\n            if(record && userInfo.user_id){\n                return (\n                    <Form\n                        form={answer}\n                        style={{padding: '1em'}}\n                        labelCol={{\n                            span: 2,\n                        }}\n                        wrapperCol={{\n                            span: 18,\n                        }}\n                    >\n                        <Form.Item name=\"body\" label=\"Ответ\">\n                            <TextArea rows={5} />\n                        </Form.Item>\n                        <Form.Item>\n                            <Button type=\"primary\" className=\"question-form-button\"\n                                onClick={async ()=>{\n                                    const values = answer.getFieldsValue();\n                                    values.question_id = record.id;\n                                    values.user_id = userInfo.user_id;\n                                    const result = await answers.actions.createAnswer(values);\n                                    await answers.actions.getAnswers();\n                                }}\n                            >Ответить</Button>\n                        </Form.Item>\n                    </Form>\n                )\n            }\n        })()}\n        </div>\n   );\n});\n\nexport default QuestionPage;","import React from 'react';\nimport { observer } from \"mobx-react\";\nimport { Form, Row, Col, Input, Button, DatePicker, TreeSelect, Checkbox, Collapse } from 'antd';\n\n\nconst {Panel} = Collapse;\nconst QuestionsToolbar = observer((props) => {\n    const {store, categoriesStore, uid} = props;\n    const [form] = Form.useForm();\n    const {isLoaded, isLoading, categories} = categoriesStore;\n    const {getCategories} = categoriesStore.actions;\n    if(!isLoaded && !isLoading) getCategories();\n    const formSuccess = (values, store) => {\n        store.clearFilters();\n        Object.keys(values).forEach(key=>{\n            switch (key){\n                case \"similar\":\n                    break;\n                case \"mine\":\n                    if(values[key]){\n                        store.addFilter('user_id', uid);\n                    }\n                    break;\n                default:\n                    if(values[key]) store.addFilter(key, values[key]);\n                    else store.removeFilter(key);\n            }\n        });\n        if(!values.similar){\n            store.actions.getQuestions();\n        }\n        else {\n            //TODO - хранить страницу и pageSize в сторе чтобы вот этой дичи не было\n            store.actions.getQuestions(1, 25, false);\n        }\n    }\n    return (\n        <Collapse>\n            <Panel header=\"Фильтры\">\n                <Form\n                    form={form}\n                    name=\"filters\"\n                    className=\"ant-advanced-search-form\"\n                    onFinish={values => formSuccess(values, store)}\n                    >\n                        <Form.Item name=\"id\" label=\"Номер\">\n                            <Input placeholder=\"№\" />\n                        </Form.Item>\n                        <Form.Item name=\"name\" label=\"Вопрос\">\n                            <Input placeholder=\"Вопрос\" />\n                        </Form.Item>\n                        <Form.Item>\n                            <Row>\n                                <Col>\n                                    <Form.Item name=\"similar\" valuePropName=\"checked\">\n                                        <Checkbox >Похожие</Checkbox>\n                                    </Form.Item>\n                                </Col>\n                                {(()=>{\n                                    if(uid) return (\n                                        <Col style={{margin:\"0 0 0 1em\"}}>\n                                            <Form.Item name=\"mine\" valuePropName=\"checked\">\n                                                <Checkbox >Мои</Checkbox>\n                                            </Form.Item>\n                                        </Col>\n                                    )\n                                })()}\n                            </Row>\n                        </Form.Item>\n                        <Form.Item>\n                            <Row>\n                                <Col>\n                                    <Form.Item name=\"created_gt\" label=\"Создан\">\n                                        <DatePicker placeholder=\"Начало\" />\n                                    </Form.Item>\n                                </Col>\n                                <Col style={{margin:\"0 0 0 1em\"}}>\n                                    <Form.Item name=\"created_lt\">\n                                        <DatePicker placeholder=\"Конец\" />\n                                    </Form.Item>\n                                </Col>\n                            </Row>\n                        </Form.Item>\n                        <Form.Item>\n                            <Row>\n                                <Col>\n                                    <Form.Item name=\"updated_gt\" label=\"Обновлен\">\n                                        <DatePicker placeholder=\"Начало\" />\n                                    </Form.Item>\n                                </Col>\n                                <Col style={{margin:\"0 0 0 1em\"}}>\n                                    <Form.Item name=\"updated_lt\">\n                                        <DatePicker placeholder=\"Конец\" />\n                                    </Form.Item>\n                                </Col>\n                            </Row>\n                        </Form.Item>\n                        <Form.Item name=\"category_id\" label=\"Тема\">\n                            <TreeSelect\n                                style={{ width: '100%' }}\n                                dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\n                                treeData={categories}\n                                placeholder=\"Тема\"\n                                treeDefaultExpandAll\n                            />\n                        </Form.Item>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Искать\n                        </Button>\n                        <Button\n                            style={{ margin: '0 8px' }}\n                            onClick={() => {\n                            form.resetFields();\n                            form.submit();\n                            }}\n                        >\n                            Очистить фильтры\n                        </Button>\n                </Form>\n            </Panel>\n        </Collapse>\n    );\n});\nexport default QuestionsToolbar;","import { Table, Button} from 'antd';\nimport QuestionsToolbar from './QuestionsToolbar';\nimport { observer } from \"mobx-react\";\nimport React, {useContext, useState} from 'react';\nimport { RegistryCtx } from \"../stores/Registry\";\n\nconst QuestionsScreen = observer(props => {\n    const registry = useContext(RegistryCtx);\n    const questionsStore = registry.getStore('questions');\n    const categories = registry.getStore('categories');\n    const {questions, total, isLoading, isLoaded} = questionsStore;\n    const [page, setPage] = useState(1);\n    const uid = registry.getStore('user').user_id;\n    const columns = [\n        {\n            title: '#',\n            dataIndex: 'id',\n        },\n        {\n            title: 'Название',\n            dataIndex: 'name',\n        },\n        {\n            title: 'Тема',\n            dataIndex: 'category_name'\n        },\n        {\n            title: 'Статус',\n            dataIndex: 'status_name',\n        },\n        {\n            title: 'Создан',\n            dataIndex: 'created',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Изменен',\n            dataIndex: 'updated',\n            render: value => {\n                if(!value) return '';\n                const date = new Date(value);\n                return date.toLocaleString('ru');\n            }\n        },\n        {\n            title: 'Баллы',\n            dataIndex: 'points'\n        },\n        {\n            title: \"Автор\",\n            dataIndex: \"user_name\",\n            render: (value, record) => {\n                return (value || '') + ' ' + (record.user_surname || '');\n            }\n        }\n    ];\n    const {getQuestions} = questionsStore.actions;\n    if(!isLoaded && !isLoading) getQuestions();\n    return (\n        <Table \n            dataSource={questions} \n            columns={columns}\n            size=\"middle\"\n            rowKey=\"id\" \n            loading={isLoading}\n            onRow={(record) => {\n                return {\n                    onClick: event => {\n                        registry.getStore('selectedPage').actions.setSelected('question', {record})\n                    }\n                }\n            }}\n            pagination={\n                {\n                    position: ['none', 'bottomCenter'],  \n                    defaultPageSize: 25, \n                    total,\n                    showSizeChanger:false,\n                    onChange: async (page, ...args) => {\n                        setPage(page);\n                        await questionsStore.actions.getQuestions(page);\n                    }\n                }\n            }\n            footer={() => \n                <Button onClick={async ()=>{\n                    await questionsStore.actions.getQuestions(page);\n                }}>\n                    Обновить\n                </Button>\n            }\n            title={() => <div>\n                <h2>Вопросы\n                {(()=>{\n                    if(uid){\n                        return (\n                            <Button type=\"primary\"\n                                style={{ margin: '0 16px' }}\n                                onClick={() => {\n                                    registry.getStore('selectedPage').actions.setSelected('question')\n                                }}\n                            >\n                                Добавить\n                            </Button>\n                        )\n                    }\n                })()}\n                </h2>\n                <QuestionsToolbar store={questionsStore} categoriesStore={categories} uid={uid} />\n            </div>}\n        />\n    );\n});\nexport default QuestionsScreen","import React, {useContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Form,\n  Input,\n  Button,\n  Alert,\n} from 'antd';\nimport { RegistryCtx } from '../stores/Registry';\n\nconst Registration = (props) => {\n    const registry = useContext(RegistryCtx);\n    const {connection} = registry;\n    const [form] = Form.useForm();\n\n    const onFinish = async (values) => {\n        const copy = Object.assign({}, values);\n        delete copy.confirm\n        try{\n            const response = await connection.request({\n                url: 'https://uchi-hack.herokuapp.com/user/create',\n                params: [copy]\n            });\n            const json = await response.json();\n            ReactDOM.render(\n                <Alert\n                    message=\"Успех!\"\n                    description=\"Регистрация прошла успешно\"\n                    type=\"success\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n        catch (e){\n            ReactDOM.render(\n                <Alert\n                    message=\"Упс :(\"\n                    description=\"Что-то пошло не так\"\n                    type=\"error\"\n                    closable\n                />, \n                document.getElementById('notification')\n            );\n        }\n    };\n    const layout = {\n        labelCol: { span: 2 },\n        wrapperCol: { span: 18 },\n    };\n    const tailLayout = {\n        wrapperCol: { offset: 2, span: 18 },\n    };\n    return (\n        <Form\n            form={form}\n            name=\"register\"\n            onFinish={onFinish}\n            style={{padding: '1em'}}\n            {...layout}\n            scrollToFirstError\n        >\n            <Form.Item\n                name=\"login\"\n                label=\"Логин\"\n                tooltip=\"По которому вы будете заходить на сайт\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Логин не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"name\"\n                label=\"Имя\"\n                tooltip=\"Отображаемое на платформе\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Имя не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"surname\"\n                label=\"Фамилия\"\n                tooltip=\"Отображаемая на платформе\"\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"password\"\n                label=\"Пароль\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Please input your password!',\n                },\n                ]}\n                hasFeedback\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                name=\"confirm\"\n                label=\"Повтор пароля\"\n                dependencies={['password']}\n                hasFeedback\n                rules={[\n                {\n                    required: true,\n                    message: 'Please confirm your password!',\n                },\n                ({ getFieldValue }) => ({\n                    validator(_, value) {\n                    if (!value || getFieldValue('password') === value) {\n                        return Promise.resolve();\n                    }\n\n                    return Promise.reject(new Error('The two passwords that you entered do not match!'));\n                    },\n                }),\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"register-form-button\">\n                Зарегистрироваться\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default Registration;","import React from 'react';\nimport {\n  Form,\n  Input,\n} from 'antd';\n\nconst Profile = (props) => {\n    const {record} = props;\n    const [form] = Form.useForm();\n    const layout = {\n        labelCol: { span: 2 },\n        wrapperCol: { span: 18 },\n    };\n    form.setFieldsValue(record);\n    return (\n        <fieldset disabled>\n        <Form\n            form={form}\n            name=\"profile\"\n            style={{padding: '1em'}}\n            {...layout}\n            scrollToFirstError\n        >\n            <Form.Item\n                name=\"login\"\n                label=\"Логин\"\n                tooltip=\"По которому вы будете заходить на сайт\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Логин не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"name\"\n                label=\"Имя\"\n                tooltip=\"Отображаемое на платформе\"\n                rules={[\n                {\n                    required: true,\n                    message: 'Имя не может быть пустым',\n                    whitespace: false,\n                },\n                ]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                name=\"surname\"\n                label=\"Фамилия\"\n                tooltip=\"Отображаемая на платформе\"\n            >\n                <Input />\n            </Form.Item>\n        </Form>\n        </fieldset>\n    );\n};\n\nexport default Profile;","import { action, extendObservable } from \"mobx\";\nimport HomeScreen from \"../views/HomeScreen\";\nimport Login from \"../views/Login\";\nimport QuestionPage from \"../views/QuestionPage\";\nimport QuestionsScreen from \"../views/QuestionsScreen\";\nimport Registration from \"../views/Registration\";\nimport Profile from \"../views/EditProfile\";\n\nconst SelectedPage = () => {\n    const items = {\n        home: <HomeScreen/>,\n        questions: <QuestionsScreen/>,\n        question: <QuestionPage/>,\n        register: <Registration/>,\n        login: <Login/>,\n        profileEdit: <Profile/>,\n    }\n    const self = {\n    }\n    self.actions = {\n        setSelected: action((page, config = {}) => {\n            self.selected = page;\n            self.actions.setSelectedPageItem(page, config);\n        }),\n        setSelectedPageItem: action((page, config = {})=>{\n            const copy = Object.assign({}, items[page]);\n            copy.props=config;\n            self.selectedPageItem = copy;\n        })\n    }\n    return extendObservable(self, { selected: \"home\", selectedPageItem: items[\"home\"] });\n}\nexport default SelectedPage;","import { action, extendObservable } from \"mobx\";\n\nconst Questions = (connection) => {\n    const self = {\n        isLoading: false,\n        total: 0,\n        questions: [],\n        filters: {},\n        currentPage: 1,\n        pageSize: 25,\n        addFilter(property, value){\n            self.filters[property] = value;\n        },\n        clearFilters(){\n            self.filters = {};\n        },\n        removeFilter(property){\n            if(self.filters[property]) delete self.filters[property];\n        },\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setMessages: action(questions=>self.questions=questions),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getQuestions: action(async (page = 1, pageSize = 25, exact=true) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/${exact?'list':'similar'}`,\n                    params: exact? {...self.filters} : [self.filters.name || '']\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const messages = response.result;\n                    self.actions.setTotal(response.total);\n                    self.actions.setMessages(messages);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n            createQuestion: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/create`,\n                    params: [data]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            }),\n            setQuestionAnswered: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/close`,\n                    params: [data.id]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            }),\n            setQuestionClosed: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/question/cancel`,\n                    params: [data.id]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            })\n        }\n    };\n    return extendObservable(self, { questions: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Questions;","import { action, extendObservable } from \"mobx\";\n\nconst Answers = (connection) => {\n    const self = {\n        isLoading: false,\n        total: 0,\n        answers: [],\n        filters: {},\n        question: 0,\n        currentPage: 1,\n        pageSize: 25,\n        addFilter(property, value){\n            self.filters[property] = value;\n            if(property===\"question_id\"){\n                self.actions.setQuestion(value);\n                self.actions.setIsLoaded(false);\n            }\n        },\n        removeFilter(property){\n            if(self.filters[property]) delete self.filters[property];\n        },\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setAnswers: action(answers=>self.answers=answers),\n            setQuestion: action(question=>self.question=question),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getAnswers: action(async (page = 1, pageSize = 25, exact=true) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/answer/list`,\n                    params: {...self.filters}\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const answers = response.result;\n                    self.actions.setTotal(response.total);\n                    self.actions.setAnswers(answers);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n            createAnswer: action(async (data) => {\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/answer/create`,\n                    params: [data]\n                };\n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                return response;\n            }),\n        }\n    };\n    return extendObservable(self, { answers: [], isLoading: false, isLoaded: false, total: 0, question: 0});\n}\nexport default Answers;","import { action, extendObservable } from \"mobx\";\n\nconst User = (connection) => {\n    const self = {\n        nickname: null,\n        isLoggedIn: false,\n        setUserData: (data) => {\n            self.actions.setAvatar(data.avatar || \"https://via.placeholder.com/150\");\n            self.actions.setUserId(data.id);\n            self.actions.setNickname(data.login);\n            self.info = data;\n        }\n    }\n    self.actions = {\n        setNickname: action(nickname => self.nickname = nickname),\n        setIsLoggedIn: action(value => self.isLoggedIn = value),\n        setAvatar: action(avatar => self.avatar = avatar),\n        setUserId: action(user_id => self.user_id = user_id),\n        isLoggedIn: action(async ()=>{\n            const response = await connection.request({\n                params:[connection.getSession()?.split('=')[1] || ''],\n                url: 'https://uchi-hack.herokuapp.com/user/isLoggedIn'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            if(data.length){\n                self.setUserData(data[0]);\n                self.actions.setIsLoggedIn(true);\n            }\n        }),\n        login: action(async (login, password)=>{\n            const response = await connection.request({\n                params:{\n                    login, password\n                },\n                url: 'https://uchi-hack.herokuapp.com/user/login'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession(data.session_id);\n            self.setUserData(data);\n            self.actions.setIsLoggedIn(true);\n        }),\n        logout: action(async () => {\n            const response = await connection.request({\n                params:[\"\"],\n                url: 'https://uchi-hack.herokuapp.com/user/logout'\n            })\n            const json = await response.json();\n            const data = json.result;\n            if(!json.success){\n                throw new Error(data.error_message)\n            }\n            connection.setSession('');\n            self.setUserData({});\n            self.actions.setIsLoggedIn(false);\n        })\n        \n    }\n    return extendObservable(self, { nickname: null, isLoggedIn: false });\n}\nexport default User;","const treefiy = (dataArray, parentId = \"parent_id\") => {\n    const data = [];\n    const byIdMap = {};\n    dataArray.forEach(elem => {\n        byIdMap[elem.id] = elem\n    });\n    dataArray.forEach(elem=>{\n        elem.title = elem.name;\n        elem.value = elem.id;\n        if(!elem[parentId]) {\n            data.push(elem);\n        } else {\n            const parent = byIdMap[elem[parentId]];\n            if(!parent.children) parent.children = [];\n            parent.children.push(elem);\n        }\n    });\n    return data;\n}\n\nexport default treefiy;","import { action, extendObservable } from \"mobx\";\nimport treefiy from \"../utils/Tree\";\n\nconst Categories = (connection) => {\n    const self = {\n        isLoading: false,\n        isLoaded: false,\n        categories: [],\n        actions: {\n            setTotal: action(total=>self.total=total),\n            setCategories: action(categories=>self.categories=categories),\n            setLoading: action(isLoading => self.isLoading = isLoading),\n            setIsLoaded: action(isLoaded => self.isLoaded = isLoaded),\n            getCategories: action(async (page = 1, pageSize = 25) => {\n                if(self.isLoading) return;\n                self.actions.setLoading(true);\n                self.currentPage = page;\n                const requestConfig = {\n                    url: `https://uchi-hack.herokuapp.com/category/list`,\n                    params: {}\n                };\n                requestConfig.params.limit=pageSize;\n                requestConfig.params.offset=pageSize * (page - 1);\n                \n                const responseObject = await connection.request(requestConfig);\n                const response = await responseObject.json();\n                if(response.success){\n                    const categories = treefiy(response.result);\n                    self.actions.setTotal(response.total);\n                    self.actions.setCategories(categories);\n                    self.actions.setIsLoaded(true);\n                }\n                self.actions.setIsLoaded(true);\n                self.actions.setLoading(false);\n            }),\n        }\n    };\n    return extendObservable(self, { categories: [], isLoading: false, isLoaded: false, total: 0});\n}\nexport default Categories;","import Connection from \"../utils/Connection\"\nimport { action, extendObservable } from \"mobx\";\nimport SelectedPage from \"./SelectedPage\";\nimport Questions from \"./Questions\";\nimport Answers from \"./Answers\";\nimport React from \"react\";\nimport User from \"./User\";\nimport Categories from \"./Categories\";\n\nconst RegistryCtx = React.createContext();\n\nfunction Registry(){\n    const self = {\n        initialized: false,\n        getStore(storeName){\n            if(self.stores && self.stores[storeName]){\n                return self.stores[storeName]\n            } else {\n                throw new Error(`No store with name ${storeName} was found`);\n            }\n        }\n    };\n    self.actions = {\n        init: action(() => {\n            self.connection = Connection().init();\n            self.stores = {\n                selectedPage: SelectedPage(),\n                user: User(self.connection),\n                categories: Categories(self.connection),\n                questions: Questions(self.connection),\n                answers: Answers(self.connection)\n            };\n            self.initialized = true;\n        })\n    }\n\n    return extendObservable(self, { stores: [], initialized: false });\n}\n\nexport {Registry as default, RegistryCtx}","import { Menu } from 'antd';\nimport { observer } from \"mobx-react\";\n\nconst { SubMenu } = Menu;\n\nconst Header = observer(({store}) => {\n    const pageStore = store.getStore('selectedPage');\n    const userInfo = store.getStore('user');\n    \n    const keysForGuests = ['home', 'questions', 'login', 'register'];\n    const keysForUsers = ['home', 'questions', 'avatar', 'profile',];\n    const keys = userInfo.isLoggedIn ? keysForUsers : keysForGuests;\n    const menuItems = {\n        home: \n            <Menu.Item key=\"home\">\n                Домашняя страница\n            </Menu.Item>,\n        questions: \n            <Menu.Item key=\"questions\">\n                Вопросы\n            </Menu.Item>,\n        avatar: \n            <Menu.Item disabled=\"true\"  style={{padding:0}} key=\"avatar\">\n                <img src={userInfo.avatar} alt=\"avatar\" style={{maxWidth:'50px', maxHeight:'50px'}}/>\n            </Menu.Item>,\n        profile:\n            <SubMenu key=\"SubMenu\" title={userInfo.nickname} key=\"profile\">\n                <Menu.Item key=\"profileEdit\">Редактировать профиль</Menu.Item>\n                <Menu.Item key=\"exit\">Выход</Menu.Item>\n            </SubMenu>,\n        login:\n            <Menu.Item key=\"login\">\n                Логин\n            </Menu.Item>,\n        register:\n            <Menu.Item key=\"register\">\n                Регистрация\n            </Menu.Item>\n    }\n    const elems = [];\n    keys.forEach(elem=>{\n        elems.push(menuItems[elem]);\n    })\n    return (\n        <header>\n            <h1>МВО #25</h1>\n            <Menu \n                onClick={(e)=>{\n                    const key = e.key;\n                    if(key === 'exit'){\n                        userInfo.actions.logout();\n                        return;\n                    }\n                    if(key === 'profileEdit'){\n                        pageStore.actions.setSelected(e.key, {record:userInfo.info});\n                        return;\n                    }\n                    pageStore.actions.setSelected(e.key);\n                }} \n                selectedKeys={[pageStore.selected]} \n                mode=\"horizontal\"\n                style={{display:'block', position:'sticky',top:'0',textAlign:'right'}}\n            >\n                {elems}\n            </Menu>\n        </header>\n    )\n});\n\nexport default Header;","import \"./App.scss\";\nimport Registry, {RegistryCtx} from \"../stores/Registry\";\nimport React from 'react';\nimport Header from \"./Header\";\nimport { observer } from \"mobx-react\";\n\n\nconst registry = Registry();\nregistry.actions.init();\nregistry.getStore('user').actions.isLoggedIn();\n\nconst App = observer(() => {\n  const selectedPageStore = registry.getStore('selectedPage');\n  return (\n    <RegistryCtx.Provider value={registry}>\n      <div className=\"App\">\n        <RegistryCtx.Consumer>\n          {store =><Header store={store}/>}\n        </RegistryCtx.Consumer>\n        <main>\n          {selectedPageStore.selectedPageItem}\n        </main>\n      </div>\n    </RegistryCtx.Provider>\n  );\n});\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './views/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nreportWebVitals(console.log);\n"],"sourceRoot":""}